# Bucket aggregations
バケット集約は、メトリクス集約のようにフィールドに対するメトリクスを計算するのではなく、ドキュメントのバケットを作成します。各バケツは、現在のコンテキストにある文書がそこに「入る」かどうかを決定する基準と関連付けられている（集約の種類によって異なる）。言い換えれば、バケツは事実上、文書集合を定義する。バケツそのものに加えて、バケツ集約は、各バケツに "入った" 文書の数を計算し、返します。

バケット集約は、メトリクス集約とは対照的に、サブ集約を保持することができる。これらのサブ集約は、その「親」バケット集約によって作成されたバケットに対して集約されることになる。

バケット・アグリゲーターにはさまざまなものがあり、それぞれが異なる「バケット化」戦略をとっています。あるものは単一のバケットを定義し、あるものは固定数の複数のバケットを定義し、またあるものは集約処理中に動的にバケットを作成します。

**NOTE**
search.max_buckets クラスタ設定は、1つのレスポンスで許可されるバケット数を制限します。
