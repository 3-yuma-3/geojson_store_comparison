# $box
## Definition
地理空間 $geoWithin クエリで矩形を指定すると、点ベースの位置データに従って、矩形の境界内にあるドキュメントが返されます。box 演算子と共に使用すると、$geoWithin はグリッド座標に基づくドキュメントを返し、GeoJSON 形式のクエリは行いません。

box 演算子を使用するには、矩形の左下隅と右上隅を配列オブジェクトで指定する必要があります。

```bash
{
  <location field>: {
     $geoWithin: {
        $box: [
          [ <bottom left coordinates> ],
          [ <upper right coordinates> ]
        ]
     }
  }
}
```

経度と緯度を使用する場合は、先に経度を指定します。

## Behavior
このクエリは、平面 (プレーナー) ジオメトリを使用して距離を計算します。

アプリケーションは、地理空間インデックスを持たずに $box を使用できます。しかし、地理空間インデックスを使用すると、インデックスなしの同等品よりもはるかに高速なクエリをサポートします。

2d 地理空間インデックスのみが $box をサポートします。

## Example
次の例のクエリは、ポイントを持っているボックス内にあるすべてのドキュメントを返します。

[ 0 , 0 ], [ 0 , 100 ], [ 100 , 0 ], and [ 100 , 100 ].

```bash
db.places.find( {
   loc: { $geoWithin: { $box:  [ [ 0, 0 ], [ 100, 100 ] ] } }
} )
```
